{"swagger":"2.0","info":{"description":"Carwash service. Make appointments on free time slots or the next free time","title":"Carwash service","contact":{"name":"Yakov Kontarook","url":"https://github.com/YakovKontarook","email":"kontarook@gmail.com"}},"host":"localhost:8080","basePath":"/","tags":[{"name":"appointment-controller","description":"Appointment Controller"},{"name":"assistance-controller","description":"Assistance Controller"},{"name":"authentication-controller","description":"Authentication Controller"}],"paths":{"/carwash/api/appointments/":{"post":{"tags":["appointment-controller"],"summary":"Add a new appointment on the nearest free time","operationId":"addUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"appointmentDto","description":"appointmentDto","required":true,"schema":{"$ref":"#/definitions/AppointmentDTOReq"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AppointmentDTORes"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"JWT":["global"]}]}},"/carwash/api/appointments/admin/all":{"get":{"tags":["appointment-controller"],"summary":"Get all appointments (Admin rights only)","operationId":"getAllUsingGET","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/AppointmentDTORes"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"JWT":["global"]}]}},"/carwash/api/appointments/admin/{id}":{"get":{"tags":["appointment-controller"],"summary":"Get appointment by Appointment_ID (Admin rights only)","operationId":"getUsingGET","produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AppointmentDTORes"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"JWT":["global"]}]},"delete":{"tags":["appointment-controller"],"summary":"Delete any appointment by id (Admin rights)","operationId":"deleteUsingDELETE","produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AppointmentDTORes"}},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"JWT":["global"]}]}},"/carwash/api/appointments/on-time":{"post":{"tags":["appointment-controller"],"summary":"Add a new appointment on a specific time","operationId":"addAppointmentOnSpecificTimeUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"appointmentOnTimeRequest","description":"appointmentOnTimeRequest","required":true,"schema":{"$ref":"#/definitions/AppointmentOnTimeRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AppointmentDTORes"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"JWT":["global"]}]}},"/carwash/api/appointments/user":{"get":{"tags":["appointment-controller"],"summary":"Get appointments user is waiting","operationId":"getWaitingAssistanceByUserUsingGET","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/AppointmentDTORes"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"JWT":["global"]}]}},"/carwash/api/appointments/user/history":{"get":{"tags":["appointment-controller"],"summary":"Get history of the user appointments","operationId":"getUserHistoryUsingGET","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/AppointmentDTORes"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"JWT":["global"]}]}},"/carwash/api/assistance/":{"get":{"tags":["assistance-controller"],"summary":"Get a list of all assistances","operationId":"getAllUsingGET_1","produces":["*/*"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"$ref":"#/definitions/AssistanceDTO"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"JWT":["global"]}]}},"/carwash/api/assistance/admin/":{"post":{"tags":["assistance-controller"],"summary":"Add a new assistance (Admin rights only)","operationId":"addUsingPOST_1","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"assistanceDTO","description":"assistanceDTO","required":true,"schema":{"$ref":"#/definitions/AssistanceDTO"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AssistanceDTO"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"JWT":["global"]}]}},"/carwash/api/assistance/admin/{id}":{"put":{"tags":["assistance-controller"],"summary":"Update any assistance by Assistance_ID (Admin rights only)","operationId":"updateUsingPUT","consumes":["application/json"],"produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int32"},{"in":"body","name":"updateAssistance","description":"updateAssistance","required":true,"schema":{"$ref":"#/definitions/AssistanceDTO"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AssistanceDTO"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"JWT":["global"]}]},"delete":{"tags":["assistance-controller"],"summary":"Delete any assistance by Assistance_ID (Admin rights only)","operationId":"deleteUsingDELETE_1","produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AssistanceDTO"}},"204":{"description":"No Content"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"JWT":["global"]}]}},"/carwash/api/assistance/{id}":{"get":{"tags":["assistance-controller"],"summary":"Get assistance by Assistance_ID","operationId":"getUsingGET_1","produces":["*/*"],"parameters":[{"name":"id","in":"path","description":"id","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AssistanceDTO"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"JWT":["global"]}]}},"/carwash/api/auth/login":{"post":{"tags":["authentication-controller"],"summary":"Login","operationId":"loginUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"authRequest","description":"authRequest","required":true,"schema":{"$ref":"#/definitions/AuthenticationRequest"}}],"responses":{"200":{"description":"OK","schema":{"type":"string"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"JWT":["global"]}]}},"/carwash/api/auth/signup":{"post":{"tags":["authentication-controller"],"summary":"Signup","operationId":"signUpUsingPOST","consumes":["application/json"],"produces":["*/*"],"parameters":[{"in":"body","name":"signUpRequest","description":"signUpRequest","required":true,"schema":{"$ref":"#/definitions/SignUpRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/User"}},"201":{"description":"Created"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"}},"security":[{"JWT":["global"]}]}}},"securityDefinitions":{"JWT":{"type":"apiKey","name":"Authorization","in":"header"}},"definitions":{"Appointment":{"type":"object","properties":{"assistances":{"type":"array","items":{"$ref":"#/definitions/Assistance"}},"created":{"type":"string","format":"date-time"},"endTime":{"type":"string","format":"date-time"},"startTime":{"type":"string","format":"date-time"},"totalPrice":{"type":"number","format":"double"},"updateted":{"type":"string","format":"date-time"},"user":{"$ref":"#/definitions/User"}},"title":"Appointment"},"AppointmentDTOReq":{"type":"object","properties":{"assistancesIds":{"type":"object","example":["...","...","...","..."]},"id":{"type":"integer","format":"int32"},"startTime":{"type":"string","example":"dd-MM-yyyy HH:mm"}},"title":"AppointmentDTOReq"},"AppointmentDTORes":{"type":"object","properties":{"assistances":{"type":"array","items":{"$ref":"#/definitions/Assistance"}},"created":{"type":"string","example":"dd-MM-yyyy HH:mm"},"endTime":{"type":"string","example":"dd-MM-yyyy HH:mm"},"id":{"type":"integer","format":"int32"},"startTime":{"type":"string","example":"dd-MM-yyyy HH:mm"},"tilStart":{"type":"string"},"totalPrice":{"type":"number","format":"double"}},"title":"AppointmentDTORes"},"AppointmentOnTimeRequest":{"type":"object","properties":{"appointmentDTO":{"$ref":"#/definitions/AppointmentDTOReq"},"appointmentTime":{"type":"string","example":"dd-MM-yyyy HH:mm"}},"title":"AppointmentOnTimeRequest"},"Assistance":{"type":"object","properties":{"description":{"type":"string"},"duration":{"type":"integer","format":"int32"},"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"price":{"type":"number","format":"double"}},"title":"Assistance"},"AssistanceDTO":{"type":"object","properties":{"description":{"type":"string"},"duration":{"type":"integer","format":"int32"},"id":{"type":"integer","format":"int32"},"name":{"type":"string"},"price":{"type":"number","format":"double"}},"title":"AssistanceDTO"},"AuthenticationRequest":{"type":"object","properties":{"password":{"type":"string"},"username":{"type":"string"}},"title":"AuthenticationRequest"},"SignUpRequest":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string","minLength":8,"maxLength":2147483647},"username":{"type":"string","minLength":2,"maxLength":30}},"title":"SignUpRequest"},"User":{"type":"object","properties":{"appointments":{"type":"array","items":{"$ref":"#/definitions/Appointment"}},"email":{"type":"string"},"username":{"type":"string"}},"title":"User"}}}